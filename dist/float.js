!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="/",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var n=e.slice(1),i=t[e[0]];return function(t,e,r){i.apply(this,[t,e,r].concat(n))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=i(r),u=n(2),s=i(u),a=n(79),f=i(a),c=n(85),l=i(c);n(86),e["default"]=o["default"].module("float",[]).directive("flContainer",s["default"]).directive("flItem",f["default"]).factory("Mapper",l["default"])},function(t,e){t.exports=angular},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=i(r),u=n(40),s=i(u),a=n(41),f=i(a);e["default"]=function(){return{restrict:"A",bindToController:{options:"=flContainer",isEditable:"=flEditable",createElementsAtPosition:"&flCreateElementsAtPosition"},controllerAs:"flContainer",controller:["Mapper","$element","$document","$scope","$timeout",function(){function t(e,n,i,r,o){var u=this;(0,s["default"])(this,t),this.flItems=[],this.mapper=new e(this.options),this.$element=n,this.$timeout=o,this.$element.css("width",this.mapper.width),this.isEditable&&(this.setupDropListeners(),this.setupVisitListeners(i,r)),o(function(){u.container||0!==u.flItems.length||(u.container=new v["default"],u.render())},500)}return(0,f["default"])(t,[{key:"initItem",value:function(t){var e=this;this.flItems.push(t),this.container?(this.container.addItem(t.item),this.render()):t.lastRepeat&&(this.container=new v["default"](this.flItems.map(function(t){return t.item})),this.$timeout(function(){e.render()}))}},{key:"render",value:function(){var t=this;this.container.removeGaps(),this.$element.css("height",this.mapper.height2px(this.container.getMaxHeight())+100),this.flItems.forEach(function(e){return e.render(t.mapper.layout2px(e.item),{left:e.item.left,top:e.item.top,width:e.item.width,height:e.item.height})})}},{key:"onItemEditStart",value:function(){this.$element.addClass("fl-container-editing"),this.$element.css("height",this.$element.height()+1e3)}},{key:"onItemEditEnd",value:function(t,e){this.$element.removeClass("fl-container-editing"),this.container.editItem(t,e),this.render()}},{key:"onItemRemove",value:function(t){p["default"].remove(this.flItems,function(e){return e===t}),this.container.removeItem(t.item),this.render()}},{key:"getNewItemDimensions",value:function(t){return this.container.getClosestTop(this.mapper.getClosestPosition(t))}},{key:"setupDropListeners",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1e4,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n.css({marginLeft:t,marginTop:e,width:i})}var e=this,n=(0,l["default"])("<div>").addClass("fl-drop-indicator").appendTo(this.$element);t();var i=p["default"].throttle(function(n){if((0,l["default"])(n.target).is(e.$element)){var i=e.mapper.px2pos({left:n.offsetX,top:n.offsetY}),r=(0,o["default"])(i,e.container.getWidthAtPos(i));if(r.height=e.mapper.minHeight,r.width=Math.min(r.width,e.mapper.numColumns-r.left),r.width<e.mapper.minWidth)t();else{var u=e.mapper.layout2px(e.mapper.checkPositionConstraints(r));t(u.left,u.top,u.width)}}else t()},50);this.$element.on("dragover",function(t){t.preventDefault(),t.stopPropagation(),i(t)}),this.$element.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),i.cancel(),t()}),this.$element.on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),i.cancel(),t(),(0,l["default"])(n.target).is(e.$element)){var r=e.mapper.px2pos({left:n.offsetX,top:n.offsetY}),u=(0,o["default"])(r,e.container.getWidthAtPos(r));if(u.height=e.mapper.minHeight,u.width>=e.mapper.minWidth){u.width=Math.min(u.width,e.mapper.numColumns-u.left);var s=e.mapper.checkPositionConstraints(u);e.createElementsAtPosition({event:n,dimensions:s})}}})}},{key:"setupVisitListeners",value:function(t,e){function n(t){var e=(0,l["default"])(t.target).closest("[fl-item]").eq(0);e&&e.addClass("fl-item-selected"),(0,l["default"])("[fl-item]").not(e).removeClass("fl-item-selected")}t.on("click",n),e.$on("$destroy",function(){t.off("click",n)})}}]),t}()]}};var c=n(45),l=i(c),h=n(46),p=i(h),d=n(47),v=i(d)},function(t,e,n){t.exports={"default":n(4),__esModule:!0}},function(t,e,n){n(5),t.exports=n(8).Object.assign},function(t,e,n){var i=n(6);i(i.S+i.F,"Object",{assign:n(21)})},function(t,e,n){var i=n(7),r=n(8),o=n(9),u=n(11),s="prototype",a=function(t,e,n){var f,c,l,h=t&a.F,p=t&a.G,d=t&a.S,v=t&a.P,m=t&a.B,g=t&a.W,y=p?r:r[e]||(r[e]={}),w=y[s],x=p?i:d?i[e]:(i[e]||{})[s];p&&(n=e);for(f in n)c=!h&&x&&void 0!==x[f],c&&f in y||(l=c?x[f]:n[f],y[f]=p&&"function"!=typeof x[f]?n[f]:m&&c?o(l,i):g&&x[f]==l?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[s]=t[s],e}(l):v&&"function"==typeof l?o(Function.call,l):l,v&&((y.virtual||(y.virtual={}))[f]=l,t&a.R&&w&&!w[f]&&u(w,f,l)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(10);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(12),r=n(20);t.exports=n(16)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(13),r=n(15),o=n(19),u=Object.defineProperty;e.f=n(16)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return u(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(14);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(16)&&!n(17)(function(){return 7!=Object.defineProperty(n(18)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var i=n(14),r=n(7).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(14);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var i=n(22),r=n(37),o=n(38),u=n(39),s=n(26),a=Object.assign;t.exports=!a||n(17)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=a({},t)[n]||Object.keys(a({},e)).join("")!=i})?function(t,e){for(var n=u(t),a=arguments.length,f=1,c=r.f,l=o.f;a>f;)for(var h,p=s(arguments[f++]),d=c?i(p).concat(c(p)):i(p),v=d.length,m=0;v>m;)l.call(p,h=d[m++])&&(n[h]=p[h]);return n}:a},function(t,e,n){var i=n(23),r=n(36);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(24),r=n(25),o=n(29)(!1),u=n(33)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),a=0,f=[];for(n in s)n!=u&&i(s,n)&&f.push(n);for(;e.length>a;)i(s,n=e[a++])&&(~o(f,n)||f.push(n));return f}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(26),r=n(28);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(27);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(25),r=n(30),o=n(32);t.exports=function(t){return function(e,n,u){var s,a=i(e),f=r(a.length),c=o(u,f);if(t&&n!=n){for(;f>c;)if(s=a[c++],s!=s)return!0}else for(;f>c;c++)if((t||c in a)&&a[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var i=n(31),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(31),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(34)("keys"),r=n(35);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(7),r="__core-js_shared__",o=i[r]||(i[r]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(28);t.exports=function(t){return Object(i(t))}},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=n(42),o=i(r);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,o["default"])(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){t.exports={"default":n(43),__esModule:!0}},function(t,e,n){n(44);var i=n(8).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){var i=n(6);i(i.S+i.F*!n(16),"Object",{defineProperty:n(12).f})},function(t,e){t.exports=jQuery},function(t,e){t.exports=_},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=i(r),u=n(48),s=i(u),a=n(74),f=i(a),c=n(40),l=i(c),h=n(41),p=i(h),d=n(78),v=i(d),m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,l["default"])(this,t),this.rows=this.itemsToRows(e)}return(0,p["default"])(t,[{key:"itemsToRows",value:function(t){var e=this,n={};return t.forEach(function(t){t.top in n?n[t.top].push(t):n[t.top]=[t]}),(0,f["default"])(n).map(function(t){var n=(0,s["default"])(t,2),i=n[0],r=n[1];return new v["default"](r,Number(i),e)}).sort(function(t,e){return t.top-e.top})}},{key:"addItem",value:function(t){var e=void 0,n=void 0;for(e=0;e<this.rows.length;e++){if(!(this.rows[e].top<t.top)){this.rows[e].top===t.top&&(n=this.rows[e]);break}t.top+=this.rows[e].getOverlap(t,!1)}n&&!n.getOverlap(t,!0)?n.addItem(t):this.rows.splice(e,0,new v["default"]([t],t.top,this));for(var i=e+1;i<this.rows.length;i++)this.shiftRows(this.rows.slice(i),this.rows[i].getOverlap(t,!0))}},{key:"editItem",value:function(t,e){this.removeItem(t),this.addItem((0,o["default"])(t,e))}},{key:"removeItem",value:function(t){var e=t.row;e.removeItem(t),0===e.items.length&&this.rows.splice(this.rows.indexOf(e),1)}},{key:"shiftRows",value:function(t,e){t.forEach(function(t){return t.setTop(t.top+e)})}},{key:"removeGaps",value:function(){if(0!==this.rows.length){0!==this.rows[0].top&&this.shiftRows(this.rows,-this.rows[0].top);for(var t=0,e=1;e<this.rows.length;e++){t=Math.max(t,this.rows[e-1].top+this.rows[e-1].getHeight());var n=this.rows[e].top-t;n>0&&this.shiftRows(this.rows.slice(e),-n)}}}},{key:"getMaxHeight",value:function(){return this.rows.reduce(function(t,e){return Math.max.apply(void 0,[t].concat(e.items.map(function(t){return t.top+t.height})))},0)}},{key:"getClosestTop",value:function(t){if(0===this.rows.length)t.top=0;else for(var e=this.rows.length-1;e>=0;e--)if(this.rows[e].top<t.top){t.top=this.rows[e].top,t.top+=this.rows[e].getOverlap(t,!1);break}return t}},{key:"getWidthAtPos",value:function(t){var e=t.left,n=t.top,i=0,r=1/0;return this.rows.forEach(function(t){return!(t.top>=n)&&void t.items.forEach(function(t){t.top+t.height>n&&(t.left<e?i=Math.max(i,t.left+t.width):r=Math.min(r,t.left))})}),{left:i,width:r-i}}}]),t}();e["default"]=m},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=n(49),o=i(r),u=n(70),s=i(u);e["default"]=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var u,a=(0,s["default"])(t);!(i=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);i=!0);}catch(f){r=!0,o=f}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,o["default"])(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){t.exports={"default":n(50),__esModule:!0}},function(t,e,n){n(51),n(66),t.exports=n(68)},function(t,e,n){n(52);for(var i=n(7),r=n(11),o=n(55),u=n(64)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],a=0;a<5;a++){var f=s[a],c=i[f],l=c&&c.prototype;l&&!l[u]&&r(l,u,f),o[f]=o.Array}},function(t,e,n){"use strict";var i=n(53),r=n(54),o=n(55),u=n(25);t.exports=n(56)(Array,"Array",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,n):"values"==e?r(0,t[n]):r(0,[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports={}},function(t,e,n){"use strict";var i=n(57),r=n(6),o=n(58),u=n(11),s=n(24),a=n(55),f=n(59),c=n(63),l=n(65),h=n(64)("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",v="keys",m="values",g=function(){return this};t.exports=function(t,e,n,y,w,x,b){f(n,e,y);var _,k,O,M=function(t){if(!p&&t in j)return j[t];switch(t){case v:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",E=w==m,I=!1,j=t.prototype,P=j[h]||j[d]||w&&j[w],S=P||M(w),$=w?E?M("entries"):S:void 0,T="Array"==e?j.entries||P:P;if(T&&(O=l(T.call(new t)),O!==Object.prototype&&(c(O,C,!0),i||s(O,h)||u(O,h,g))),E&&P&&P.name!==m&&(I=!0,S=function(){return P.call(this)}),i&&!b||!p&&!I&&j[h]||u(j,h,S),a[e]=S,a[C]=g,w)if(_={values:E?S:M(m),keys:x?S:M(v),entries:$},b)for(k in _)k in j||o(j,k,_[k]);else r(r.P+r.F*(p||I),e,_);return _}},function(t,e){t.exports=!0},function(t,e,n){t.exports=n(11)},function(t,e,n){"use strict";var i=n(60),r=n(20),o=n(63),u={};n(11)(u,n(64)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(u,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(13),r=n(61),o=n(36),u=n(33)("IE_PROTO"),s=function(){},a="prototype",f=function(){var t,e=n(18)("iframe"),i=o.length,r="<",u=">";for(e.style.display="none",n(62).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+u+"document.F=Object"+r+"/script"+u),t.close(),f=t.F;i--;)delete f[a][o[i]];return f()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[a]=i(t),n=new s,s[a]=null,n[u]=t):n=f(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(12),r=n(13),o=n(22);t.exports=n(16)?Object.defineProperties:function(t,e){r(t);for(var n,u=o(e),s=u.length,a=0;s>a;)i.f(t,n=u[a++],e[n]);return t}},function(t,e,n){t.exports=n(7).document&&document.documentElement},function(t,e,n){var i=n(12).f,r=n(24),o=n(64)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(34)("wks"),r=n(35),o=n(7).Symbol,u="function"==typeof o,s=t.exports=function(t){return i[t]||(i[t]=u&&o[t]||(u?o:r)("Symbol."+t))};s.store=i},function(t,e,n){var i=n(24),r=n(39),o=n(33)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){"use strict";var i=n(67)(!0);n(56)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var i=n(31),r=n(28);t.exports=function(t){return function(e,n){var o,u,s=String(r(e)),a=i(n),f=s.length;return a<0||a>=f?t?"":void 0:(o=s.charCodeAt(a),o<55296||o>56319||a+1===f||(u=s.charCodeAt(a+1))<56320||u>57343?t?s.charAt(a):o:t?s.slice(a,a+2):(o-55296<<10)+(u-56320)+65536)}}},function(t,e,n){var i=n(69),r=n(64)("iterator"),o=n(55);t.exports=n(8).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||o.hasOwnProperty(i(e))}},function(t,e,n){var i=n(27),r=n(64)("toStringTag"),o="Arguments"==i(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){t.exports={"default":n(71),__esModule:!0}},function(t,e,n){n(51),n(66),t.exports=n(72)},function(t,e,n){var i=n(13),r=n(73);t.exports=n(8).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},function(t,e,n){var i=n(69),r=n(64)("iterator"),o=n(55);t.exports=n(8).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){t.exports={"default":n(75),__esModule:!0}},function(t,e,n){n(76),t.exports=n(8).Object.entries},function(t,e,n){var i=n(6),r=n(77)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){var i=n(22),r=n(25),o=n(38).f;t.exports=function(t){return function(e){for(var n,u=r(e),s=i(u),a=s.length,f=0,c=[];a>f;)o.call(u,n=s[f++])&&c.push(t?[n,u[n]]:u[n]);return c}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(40),o=i(r),u=n(41),s=i(u),a=function(){function t(e,n){var i=this;(0,o["default"])(this,t),this.top=n,this.items=e,e.forEach(function(t){return t.row=i})}return(0,s["default"])(t,[{key:"addItem",value:function(t){this.items.push(t),t.row=this}},{key:"removeItem",value:function(t){var e=this.items.indexOf(t);t.row=null,this.items.splice(e,1)}},{key:"setTop",value:function(t){var e=this;this.top=t,this.items.forEach(function(t){return t.top=e.top})}},{key:"getHeight",value:function(){return this.items.reduce(function(t,e){return Math.max(t,e.height)},0)}},{key:"getOverlap",value:function(t,e){var n=0;return this.items.forEach(function(i){i.doesOverlap(t)&&(n=e?Math.max(n,t.top+t.height-i.top):Math.max(n,i.top+i.height-t.top))}),n}}]),t}();e["default"]=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(48),o=i(r),u=n(3),s=i(u),a=n(40),f=i(a),c=n(41),l=i(c);e["default"]=function(){return{restrict:"A",require:["^flContainer","flItem"],bindToController:{layout:"=flItem",resizable:"=flResizable",getHeight:"=flGetHeight",lastRepeat:"=flLastRepeat",isEditable:"=flEditable"},controllerAs:"flItem",controller:["$element",function(){function t(e){(0,f["default"])(this,t),this.$element=e,this.item=new v["default"](this.layout.left,this.layout.top,this.layout.width,this.layout.height)}return(0,l["default"])(t,[{key:"render",value:function(t,e){this.$element.css(t),(0,s["default"])(this.layout,e)}}]),t}()],link:function(t,e,n,i){function r(){var n=(0,p["default"])("<"+e[0].nodeName.toLowerCase()+">").addClass("fl-drag-indicator fl-item"),i=(0,p["default"])("<div>").addClass("fl-drag-clone");i.append(n);var r={};e.draggable({cursor:"move",cancel:"[fl-drag-cancel]",helper:function(){return i},start:function(o){r.width=e.outerWidth(),r.height=e.outerHeight(),i.css(h.mapper.layout2px(d.item)),n.css(h.mapper.layout2px(d.item)),e.children().clone().appendTo(n),h.onItemEditStart(),t.$broadcast("flDragStart",o)},drag:function(t,e){var i=h.mapper.layout2px(h.mapper.getClosestPosition((0,s["default"])(r,e.position)));n.css({left:i.left-e.position.left,top:i.top-e.position.top})},stop:function(e,i){n.empty(),h.onItemEditEnd(d.item,h.mapper.getClosestPosition((0,s["default"])(r,i.position))),t.$broadcast("flDragStop",e)}})}function u(){function n(t){var n=h.mapper.getClosestSize((0,s["default"])(t.position,t.size),e.data("ui-resizable").axis.includes("w"));return f(n,!0)}if(v){var i=void 0;e.resizable({classes:{"ui-resizable-handle":"fl-resizable","ui-resizable-se":""},start:function(e){i=(0,p["default"])("<div>").addClass("fl-resize-indicator fl-item"),i.css(h.mapper.layout2px(d.item)),i.appendTo("[fl-container]"),h.onItemEditStart(),t.$broadcast("flResizeStart",e)},resize:function(t,e){i.css(h.mapper.layout2px(n(e)))},stop:function(e,r){i.remove(),h.onItemEditEnd(d.item,n(r)),t.$broadcast("flResizeStop",e)}}),a()}}function a(){e.resizable("option","handles",1===v?"e, w":"e, se, s, sw, w")}function f(t,n){if(d.getHeight){var i=h.mapper.layout2px(t),r=d.getHeight(e,i.width,n);if(r>0&&(v<2||r>i.height))return i.height=r,h.mapper.px2layout(i)}return t}function c(){t.$on("flItemChanged",function(){var t=f(d.item,!1);t.height!==d.item.height&&h.onItemEditEnd(d.item,t)}),t.$on("flResizeChanged",function(t,e){v=e,a()})}var l=(0,o["default"])(i,2),h=l[0],d=l[1],v=d.resizable;h.initItem(d),e.addClass("fl-item"),h.isEditable&&(e.addClass("fl-edit"),t.$on("$destroy",function(){h.onItemRemove(d)}),d.isEditable&&(r(),u(),c()))}}};var h=n(45),p=i(h),d=n(80),v=i(d);n(81)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(40),o=i(r),u=n(41),s=i(u),a=function(){function t(e,n,i,r){(0,o["default"])(this,t),this.left=e,this.top=n,this.width=i,this.height=r,this.row=null}return(0,s["default"])(t,[{key:"doesOverlap",value:function(t){return!(this.left+this.width<=t.left||t.left+t.width<=this.left||this.top+this.height<=t.top||t.top+t.height<=this.top)}}]),t}();e["default"]=a},function(t,e){},,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){return f}Object.defineProperty(e,"__esModule",{value:!0});var o=n(40),u=i(o),s=n(41),a=i(s);e["default"]=r;var f=function(){function t(e){var n=e.width,i=void 0===n?768:n,r=e.rowHeight,o=void 0===r?15:r,s=e.numColumns,a=void 0===s?60:s,f=e.buffer,c=void 0===f?4:f,l=e.minHeight,h=void 0===l?4:l,p=e.minWidth,d=void 0===p?10:p;(0,u["default"])(this,t),this.width=i,this.numColumns=a,this.buffer=c,this.rowHeight=o,this.minHeight=h,this.minWidth=d,this.colWidth=(i-(a-1)*c)/a+c}return(0,a["default"])(t,[{key:"px2layout",value:function(t){var e=t.left,n=t.top,i=t.width,r=t.height,o=this.px2pos({left:e,top:n}),u=Math.ceil((this.left2px(o.left)+i)/this.colWidth),s=Math.ceil((this.top2px(o.top)+r+this.buffer)/this.rowHeight);return{left:o.left,top:o.top,width:u-o.left,height:s-o.top}}},{key:"layout2px",value:function(t){var e=t.left,n=t.top,i=t.width,r=t.height;return{left:this.left2px(e),top:this.top2px(n),width:this.width2px(i),height:this.height2px(r)}}},{key:"px2pos",value:function(t){var e=t.left,n=t.top;return{left:this._closestMultiple(e,this.colWidth),top:this._closestMultiple(n,this.rowHeight)}}},{key:"left2px",value:function(t){return t*this.colWidth}},{key:"top2px",value:function(t){return t*this.rowHeight}},{key:"width2px",value:function(t){return t*this.colWidth-this.buffer}},{key:"height2px",value:function(t){return t*this.rowHeight-this.buffer}},{key:"getClosestPosition",value:function(t){return this.checkPositionConstraints(this.px2layout(t))}},{key:"getClosestSize",value:function(t,e){return this.checkSizeConstraints(this.px2layout(t),e)}},{key:"checkPositionConstraints",value:function(t){var e=t.width,n=t.height,i=t.left,r=t.top;return i+e>this.numColumns&&(i=this.numColumns-e),i<0&&(i=0),r<0&&(r=0),{left:i,top:r,width:e,height:n}}},{key:"checkSizeConstraints",value:function(t,e){var n=t.width,i=t.height,r=t.left,o=t.top;if(r+n>this.numColumns&&(n=this.numColumns-r),r<0){var u=r+n;r=0,n=u-r}return n<this.minWidth&&(e&&(r-=this.minWidth-n),n=this.minWidth),i<this.minHeight&&(i=this.minHeight),{left:r,top:o,width:n,height:i}}},{key:"_closestMultiple",value:function(t,e){var n=t/e,i=Math.floor(n),r=Math.ceil(n);return n-i>r-n?r:i}}]),t}()},81]));