{"version":3,"sources":["webpack:///app.317709b75a69a23ae3b0.js","webpack:///webpack/bootstrap 317709b75a69a23ae3b0","webpack:///./src/app/app.js","webpack:///external \"angular\"","webpack:///./src/app/directives/fl-container.js","webpack:///./src/app/classes/Container.js","webpack:///./src/app/classes/Row.js","webpack:///./src/app/services/map.js","webpack:///./src/app/directives/fl-item.js","webpack:///external \"jQuery\"","webpack:///./src/app/classes/Item.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","i","Object","prototype","hasOwnProperty","_m","args","slice","fn","a","b","apply","this","concat","_interopRequireDefault","obj","__esModule","default","defineProperty","value","_angular","_angular2","_flContainer","_flContainer2","_flItem","_flItem2","directive","angular","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","TypeError","restrict","bindToController","options","isEditable","require","controllerAs","controller","_this","flItems","container","_Container2","initItem","flItem","addItem","item","render","removeGaps","forEach","onItemMove","position","editItem","_map2","px2pos","onItemResize","layout","px2layout","link","scope","element","attrs","_ref","_ref2","flContainer","_Container","_map","_classCallCheck","instance","Constructor","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","_Row","_Row2","Container","items","arguments","rows","itemsToRows","topMap","top","entries","map","Number","sort","rowIndex","itemRow","getOverlap","splice","shiftRows","newLayout","removeItem","assign","row","indexOf","diff","setTop","maxTop","Math","max","getHeight","gap","Row","index","_this2","reduce","height","other","otherOnTop","overlap","doesOverlap","mapService","width","numColumns","buffer","colWidth","rowHeight","left","_closestMultiple","_ref3","_ref4","pos2px","val","divisor","result","option1","floor","option2","ceil","$element","_Item2","css","layout2px","makeDraggable","indicator","_jquery2","addClass","clone","append","draggable","cursor","cancel","containment","start","children","appendTo","drag","event","ui","indicatorPos","stop","empty","helper","makeResizable","resizable","handles","classes","ui-resizable-handle","ui-resizable-se","resize","size","remove","_jquery","_Item","jQuery","Item"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,IAGAV,EAAA,IDIW,SAASD,GAEnB,IAAI,GAAIY,KAAKZ,GACZ,GAAGa,OAAOC,UAAUC,eAAeP,KAAKR,EAASY,GAChD,aAAcZ,GAAQY,IACtB,IAAK,WAAY,KACjB,KAAK,SAEJZ,EAAQY,GAAM,SAASI,GACtB,GAAIC,GAAOD,EAAGE,MAAM,GAAIC,EAAKnB,EAAQgB,EAAG,GACxC,OAAO,UAAUI,EAAEC,EAAEX,GACpBS,EAAGG,MAAMC,MAAOH,EAAEC,EAAEX,GAAGc,OAAOP,MAE9BjB,EAAQY,GACV,MACD,SAECZ,EAAQY,GAAKZ,EAAQA,EAAQY,IAKhC,MAAOZ,KAGF,SAASK,EAAQD,EAASH,GAE/B,YAoBA,SAASwB,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAlBvFb,OAAOgB,eAAezB,EAAS,cAC7B0B,OAAO,GElEV,IAAAC,GAAA9B,EAAA,GFuEK+B,EAAYP,EAAuBM,GErExCE,EAAAhC,EAAA,GFyEKiC,EAAgBT,EAAuBQ,GExE5CE,EAAAlC,EAAA,GF4EKmC,EAAWX,EAAuBU,EE1EvClC,GAAA,IFsFCG,aEpFc4B,aAAQ3B,OAAO,YAC3BgC,UAAU,cADEH,cAEZG,UAAU,SAFED,eFwFT,SAAS/B,EAAQD,GGrGvBC,EAAAD,QAAAkC,SH2GM,SAASjC,EAAQD,EAASH,GAE/B,YAsEA,SAASwB,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GApEvFb,OAAOgB,eAAezB,EAAS,cAC7B0B,OAAO,GAGT,IAAIS,GAAiB,WAAc,QAASC,GAAcC,EAAK7B,GAAK,GAAI8B,MAAeC,GAAK,EAAUC,GAAK,EAAWC,EAAKC,MAAW,KAAM,IAAK,GAAiCC,GAA7BC,EAAKP,EAAIQ,OAAOC,cAAmBP,GAAMI,EAAKC,EAAGG,QAAQC,QAAoBV,EAAKW,KAAKN,EAAGjB,QAAYlB,GAAK8B,EAAKY,SAAW1C,GAA3D+B,GAAK,IAAoE,MAAOY,GAAOX,GAAK,EAAMC,EAAKU,EAAO,QAAU,KAAWZ,GAAMK,EAAG,WAAWA,EAAG,YAAe,QAAU,GAAIJ,EAAI,KAAMC,IAAQ,MAAOH,GAAQ,MAAO,UAAUD,EAAK7B,GAAK,GAAI4C,MAAMC,QAAQhB,GAAQ,MAAOA,EAAY,IAAIQ,OAAOC,WAAYrC,QAAO4B,GAAQ,MAAOD,GAAcC,EAAK7B,EAAa,MAAM,IAAI8C,WAAU,2DAStlBtD,cIpHc,WACb,OACEuD,SAAU,IACVC,kBACEC,QAAS,IACTC,WAAY,KAEdC,SAAU,eACVC,aAAc,cACdC,WAAY,WAAY,GAAAC,GAAA3C,IACtBA,MAAK4C,WACL5C,KAAK6C,UAAY,GAAAC,kBAEjB9C,KAAK+C,SAAW,SAAAC,GACdL,EAAKE,UAAUI,QAAQD,EAAOE,MAC9BP,EAAKC,QAAQd,KAAKkB,IAGpBhD,KAAKmD,OAAS,WACZR,EAAKE,UAAUO,aACfT,EAAKC,QAAQS,QAAQ,SAAAL,GAAA,MAAUA,GAAOG,YAGxCnD,KAAKsD,WAAa,SAACJ,EAAMK,GACvBZ,EAAKE,UAAUW,SAASN,EAAMO,aAAWC,OAAOH,IAChDZ,EAAKQ,UAGPnD,KAAK2D,aAAe,SAACT,EAAMU,GACzBjB,EAAKE,UAAUW,SAASN,EAAMO,aAAWI,UAAUD,IACnDjB,EAAKQ,WAGTW,KAAM,SAAUC,EAAOC,EAASC,EAA1BC,GAAgD,GAAAC,GAAAnD,EAAAkD,EAAA,GAAdE,EAAcD,EAAA,EACpDC,GAAYjB,WA1ClB,IAAAkB,GAAA3F,EAAA,GJ6KKoE,EAAc5C,EAAuBmE,GI5K1CC,EAAA5F,EAAA,GJgLK+E,EAAQvD,EAAuBoE,IAM9B,SAASxF,EAAQD,EAASH,GAE/B,YAcA,SAASwB,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASoE,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAItC,WAAU,qCAdhH7C,OAAOgB,eAAezB,EAAS,cAC7B0B,OAAO,GAGT,IAAIS,GAAiB,WAAc,QAASC,GAAcC,EAAK7B,GAAK,GAAI8B,MAAeC,GAAK,EAAUC,GAAK,EAAWC,EAAKC,MAAW,KAAM,IAAK,GAAiCC,GAA7BC,EAAKP,EAAIQ,OAAOC,cAAmBP,GAAMI,EAAKC,EAAGG,QAAQC,QAAoBV,EAAKW,KAAKN,EAAGjB,QAAYlB,GAAK8B,EAAKY,SAAW1C,GAA3D+B,GAAK,IAAoE,MAAOY,GAAOX,GAAK,EAAMC,EAAKU,EAAO,QAAU,KAAWZ,GAAMK,EAAG,WAAWA,EAAG,YAAe,QAAU,GAAIJ,EAAI,KAAMC,IAAQ,MAAOH,GAAQ,MAAO,UAAUD,EAAK7B,GAAK,GAAI4C,MAAMC,QAAQhB,GAAQ,MAAOA,EAAY,IAAIQ,OAAOC,WAAYrC,QAAO4B,GAAQ,MAAOD,GAAcC,EAAK7B,EAAa,MAAM,IAAI8C,WAAU,4DAEllBuC,EAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIxF,GAAI,EAAGA,EAAIwF,EAAM9C,OAAQ1C,IAAK,CAAE,GAAIyF,GAAaD,EAAMxF,EAAIyF,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAM3F,OAAOgB,eAAesE,EAAQE,EAAWI,IAAKJ,IAAiB,MAAO,UAAUL,EAAaU,EAAYC,GAAiJ,MAA9HD,IAAYR,EAAiBF,EAAYlF,UAAW4F,GAAiBC,GAAaT,EAAiBF,EAAaW,GAAqBX,MKjMjiBY,EAAA3G,EAAA,GLqMK4G,EAAQpF,EAAuBmF,GKnMfE,ELyMJ,WKxMf,QAAAA,KAAwB,GAAZC,GAAYC,UAAA1D,OAAA,GAAAR,SAAAkE,UAAA,GAAAA,UAAA,KAAAlB,GAAAvE,KAAAuF,GACtBvF,KAAK0F,KAAO1F,KAAK2F,YAAYH,GLyT9B,MAzGAd,GAAaa,IACXL,IAAK,cACL3E,MAAO,SK/MEiF,GAAO,GAAA7C,GAAA3C,KACX4F,IAUN,OARAJ,GAAMnC,QAAQ,SAAAH,GACRA,EAAK2C,MAAOD,GACdA,EAAO1C,EAAK2C,KAAK/D,KAAKoB,GAEtB0C,EAAO1C,EAAK2C,MAAQ3C,KAIjB5D,OAAOwG,QAAQF,GAAQG,IAAI,SAAA7B,GAAkB,GAAAC,GAAAnD,EAAAkD,EAAA,GAAhB2B,EAAgB1B,EAAA,GAAXqB,EAAWrB,EAAA,EAClD,OAAO,IAAAmB,cAAQE,EAAOQ,OAAOH,GAAtBlD,KACNsD,KAAK,SAACpG,EAAGC,GAAJ,MAAUD,GAAEgG,IAAM/F,EAAE+F,SL2N3BX,IAAK,UACL3E,MAAO,SKzNF2C,GACN,GAAIgD,UAAUC,QAGd,KAAKD,EAAW,EAAGA,EAAWlG,KAAK0F,KAAK3D,OAAQmE,IAAY,CAC1D,KAAIlG,KAAK0F,KAAKQ,GAAUL,IAAM3C,EAAK2C,KAE5B,CACD7F,KAAK0F,KAAKQ,GAAUL,MAAQ3C,EAAK2C,MACnCM,EAAUnG,KAAK0F,KAAKQ,GAEtB,OALAhD,EAAK2C,KAAO7F,KAAK0F,KAAKQ,GAAUE,WAAWlD,GAAM,GAUjDiD,IAAYA,EAAQC,WAAWlD,GAAM,GACvCiD,EAAQlD,QAAQC,GAEhBlD,KAAK0F,KAAKW,OAAOH,EAAU,EAAG,GAAAZ,eAASpC,GAAOA,EAAK2C,IAAK7F,MAI1D,KAAK,GAAIX,GAAI6G,EAAW,EAAG7G,EAAIW,KAAK0F,KAAK3D,OAAQ1C,IAC/CW,KAAKsG,UAAUtG,KAAK0F,KAAK/F,MAAMN,GAAIW,KAAK0F,KAAKrG,GAAG+G,WAAWlD,GAAM,OL+NlEgC,IAAK,WACL3E,MAAO,SK5ND2C,EAAMqD,GACbvG,KAAKwG,WAAWtD,GAChBlD,KAAKiD,QAAQ3D,OAAOmH,OAAOvD,EAAMqD,OL+NhCrB,IAAK,aACL3E,MAAO,SK7NC2C,GACT,GAAMwD,GAAMxD,EAAKwD,GACjBA,GAAIF,WAAWtD,GAGU,IAArBwD,EAAIlB,MAAMzD,QACZ/B,KAAK0F,KAAKW,OAAOrG,KAAK0F,KAAKiB,QAAQD,GAAM,MLiO1CxB,IAAK,YACL3E,MAAO,SK9NAmF,EAAMkB,GACdlB,EAAKrC,QAAQ,SAAAqD,GAAA,MAAOA,GAAIG,OAAOH,EAAIb,IAAMe,QLmOxC1B,IAAK,aACL3E,MAAO,WKhOR,GAAyB,IAArBP,KAAK0F,KAAK3D,OAAd,CAIyB,IAArB/B,KAAK0F,KAAK,GAAGG,KACf7F,KAAKsG,UAAUtG,KAAK0F,MAAO1F,KAAK0F,KAAK,GAAGG,IAK1C,KAAK,GAFDiB,GAAS,EAEJzH,EAAI,EAAGA,EAAIW,KAAK0F,KAAK3D,OAAQ1C,IAAK,CACzCyH,EAASC,KAAKC,IAAIF,EAAQ9G,KAAK0F,KAAKrG,EAAI,GAAGwG,IAAM7F,KAAK0F,KAAKrG,EAAI,GAAG4H,YAClE,IAAMC,GAAMlH,KAAK0F,KAAKrG,GAAGwG,IAAMiB,CAE3BI,GAAM,GACRlH,KAAKsG,UAAUtG,KAAK0F,KAAK/F,MAAMN,IAAK6H,SLuOlC3B,IAGT1G,cK9ToB0G,GLkUf,SAASzG,EAAQD,GAEtB,YAQA,SAAS0F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAItC,WAAU,qCANhH7C,OAAOgB,eAAezB,EAAS,cAC7B0B,OAAO,GAGT,IAAImE,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIxF,GAAI,EAAGA,EAAIwF,EAAM9C,OAAQ1C,IAAK,CAAE,GAAIyF,GAAaD,EAAMxF,EAAIyF,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAM3F,OAAOgB,eAAesE,EAAQE,EAAWI,IAAKJ,IAAiB,MAAO,UAAUL,EAAaU,EAAYC,GAAiJ,MAA9HD,IAAYR,EAAiBF,EAAYlF,UAAW4F,GAAiBC,GAAaT,EAAiBF,EAAaW,GAAqBX,MM5U5gB0C,ENgVV,WM/UT,QAAAA,GAAY3B,EAAOK,GAAK,GAAAlD,GAAA3C,IAAAuE,GAAAvE,KAAAmH,GACtBnH,KAAK6F,IAAMA,EAEX7F,KAAKwF,MAAQA,EACbA,EAAMnC,QAAQ,SAAAH,GAAA,MAAQA,GAAKwD,IAAL/D,IN0YvB,MAjDA+B,GAAayC,IACXjC,IAAK,UACL3E,MAAO,SMxVF2C,GACNlD,KAAKwF,MAAM1D,KAAKoB,GAChBA,EAAKwD,IAAM1G,QN2VVkF,IAAK,aACL3E,MAAO,SMzVC2C,GACT,GAAMkE,GAAQpH,KAAKwF,MAAMmB,QAAQzD,EACjCA,GAAKwD,IAAM,KACX1G,KAAKwF,MAAMa,OAAOe,EAAO,MN4VxBlC,IAAK,SACL3E,MAAO,SM1VHsF,GAAK,GAAAwB,GAAArH,IACVA,MAAK6F,IAAMA,EACX7F,KAAKwF,MAAMnC,QAAQ,SAAAH,GAAA,MAAQA,GAAK2C,IAAMwB,EAAKxB,SNiW1CX,IAAK,YACL3E,MAAO,WM9VR,MAAOP,MAAKwF,MAAM8B,OAAO,SAACN,EAAK9D,GAC7B,MAAO6D,MAAKC,IAAIA,EAAK9D,EAAKqE,SACzB,MNkWFrC,IAAK,aACL3E,MAAO,SMhWCiH,EAAOC,GAChB,GAAIC,GAAU,CAYd,OAVA1H,MAAKwF,MAAMnC,QAAQ,SAAAH,GACbA,EAAKyE,YAAYH,KAEjBE,EADED,EACQV,KAAKC,IAAIU,EAASF,EAAM3B,IAAM2B,EAAMD,OAASrE,EAAK2C,KAElDkB,KAAKC,IAAIU,EAASxE,EAAK2C,IAAM3C,EAAKqE,OAASC,EAAM3B,QAK1D6B,MNoWDP,IAGTtI,cMlZoBsI,GNsZf,SAASrI,EAAQD,GAEtB,YAQA,SAAS0F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAItC,WAAU,qCANhH7C,OAAOgB,eAAezB,EAAS,cAC7B0B,OAAO,GAGT,IAAImE,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIxF,GAAI,EAAGA,EAAIwF,EAAM9C,OAAQ1C,IAAK,CAAE,GAAIyF,GAAaD,EAAMxF,EAAIyF,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAM3F,OAAOgB,eAAesE,EAAQE,EAAWI,IAAKJ,IAAiB,MAAO,UAAUL,EAAaU,EAAYC,GAAiJ,MAA9HD,IAAYR,EAAiBF,EAAYlF,UAAW4F,GAAiBC,GAAaT,EAAiBF,EAAaW,GAAqBX,MO9Z3hBmD,EPkaY,WOjahB,QAAAA,KAAsD,GAA1CC,GAA0CpC,UAAA1D,OAAA,GAAAR,SAAAkE,UAAA,GAAAA,UAAA,GAAlC,IAAKqC,EAA6BrC,UAAA1D,OAAA,GAAAR,SAAAkE,UAAA,GAAAA,UAAA,GAAhB,GAAIsC,EAAYtC,UAAA1D,OAAA,GAAAR,SAAAkE,UAAA,GAAAA,UAAA,GAAH,CAAGlB,GAAAvE,KAAA4H,GACpD5H,KAAK6H,MAAQA,EACb7H,KAAK8H,WAAaA,EAClB9H,KAAK+H,OAASA,EAGd/H,KAAKgI,UAAYhI,KAAK6H,OAASC,EAAa,GAAKC,GAAQD,EAAaC,EACtE/H,KAAKiI,UAAYjI,KAAKgI,SPqevB,MA1DAtD,GAAakD,IACX1C,IAAK,SACL3E,MAAO,SAAgB2D,GO1aN,GAAZgE,GAAYhE,EAAZgE,KAAMrC,EAAM3B,EAAN2B,GACZ,QACEqC,KAAMlI,KAAKmI,iBAAiBD,EAAMlI,KAAKgI,UACvCnC,IAAK7F,KAAKmI,iBAAiBtC,EAAK7F,KAAKiI,ePibtC/C,IAAK,YACL3E,MAAO,SAAmB4D,GO9aS,GAA3B+D,GAA2B/D,EAA3B+D,KAAMrC,EAAqB1B,EAArB0B,IAAKgC,EAAgB1D,EAAhB0D,MAAON,EAASpD,EAAToD,MAC3B,OAAOjI,QAAOmH,OAAOzG,KAAK0D,QAAQwE,OAAMrC,SACtCgC,MAAO7H,KAAKmI,iBAAiBN,EAAQ7H,KAAK+H,OAAQ/H,KAAKgI,UACvDT,OAAQvH,KAAKmI,iBAAiBZ,EAASvH,KAAK+H,OAAQ/H,KAAKiI,gBPub1D/C,IAAK,SACL3E,MAAO,SAAgB6H,GOpbN,GAAZF,GAAYE,EAAZF,KAAMrC,EAAMuC,EAANvC,GACZ,QACEqC,KAAMA,EAAOlI,KAAKgI,SAClBnC,IAAKA,EAAM7F,KAAKiI,cP2bjB/C,IAAK,YACL3E,MAAO,SAAmB8H,GOxbS,GAA3BH,GAA2BG,EAA3BH,KAAMrC,EAAqBwC,EAArBxC,IAAKgC,EAAgBQ,EAAhBR,MAAON,EAASc,EAATd,MAC3B,OAAOjI,QAAOmH,OAAOzG,KAAKsI,QAAQJ,OAAMrC,SACtCgC,MAAOA,EAAQ7H,KAAKgI,SAAWhI,KAAK+H,OACpCR,OAAQA,EAASvH,KAAKiI,UAAajI,KAAK+H,YPiczC7C,IAAK,mBACL3E,MAAO,SO9bOgI,EAAKC,GACpB,GAAMC,GAASF,EAAIC,EACbE,EAAU3B,KAAK4B,MAAMF,GACrBG,EAAU7B,KAAK8B,KAAKJ,EAC1B,OAAOA,GAASC,EAAUE,EAAUH,EAAQG,EAAUF,MPkchDd,IAGT/I,cOjcc,GAAI+I,IPqcb,SAAS9I,EAAQD,EAASH,GAE/B,YAgIA,SAASwB,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GA9HvFb,OAAOgB,eAAezB,EAAS,cAC7B0B,OAAO,GAGT,IAAIS,GAAiB,WAAc,QAASC,GAAcC,EAAK7B,GAAK,GAAI8B,MAAeC,GAAK,EAAUC,GAAK,EAAWC,EAAKC,MAAW,KAAM,IAAK,GAAiCC,GAA7BC,EAAKP,EAAIQ,OAAOC,cAAmBP,GAAMI,EAAKC,EAAGG,QAAQC,QAAoBV,EAAKW,KAAKN,EAAGjB,QAAYlB,GAAK8B,EAAKY,SAAW1C,GAA3D+B,GAAK,IAAoE,MAAOY,GAAOX,GAAK,EAAMC,EAAKU,EAAO,QAAU,KAAWZ,GAAMK,EAAG,WAAWA,EAAG,YAAe,QAAU,GAAIJ,EAAI,KAAMC,IAAQ,MAAOH,GAAQ,MAAO,UAAUD,EAAK7B,GAAK,GAAI4C,MAAMC,QAAQhB,GAAQ,MAAOA,EAAY,IAAIQ,OAAOC,WAAYrC,QAAO4B,GAAQ,MAAOD,GAAcC,EAAK7B,EAAa,MAAM,IAAI8C,WAAU,2DAQtlBtD,cQzfc,WACb,OACEuD,SAAU,IACVI,SAAU,eAAgB,UAC1BH,kBACEuB,OAAQ,WAEVnB,aAAc,SACdC,YAAa,WAAY,SAAUoG,GAAU,GAAAnG,GAAA3C,IAC3CA,MAAKkD,KAAO,GAAA6F,cAAS/I,KAAK4D,OAAOsE,KAAMlI,KAAK4D,OAAOiC,IAAK7F,KAAK4D,OAAOiE,MAAO7H,KAAK4D,OAAO2D,QAEvFvH,KAAKmD,OAAS,WACZ2F,EAASE,IAAIvF,aAAWwF,UAAUtG,EAAKO,UAG3CY,KAAM,SAAUC,EAAOC,EAASC,EAA1BC,GAWJ,QAASgF,KACP,GAAMC,IAAY,EAAAC,cAAE,SAASC,SAAS,6BAChCC,GAAQ,EAAAF,cAAE,SAASC,SAAS,gBAClCC,GAAMC,OAAOJ,GAEbnF,EAAQwF,WACNC,OAAQ,OACRC,OAAQ,gBACRC,YAAa,SACbC,MAAO,WACL5F,EAAQ6F,WAAWP,QAAQQ,SAASX,IAEtCY,KAAM,SAACC,EAAOC,GACZ,GAAMC,GAAezG,aAAW6E,OAAO7E,aAAWC,OAAOuG,EAAG1G,UAC5D4F,GAAUH,KACRd,KAAMgC,EAAahC,KAAO+B,EAAG1G,SAAS2E,KACtCrC,IAAKqE,EAAarE,IAAMoE,EAAG1G,SAASsC,OAGxCsE,KAAM,SAACH,EAAOC,GACZd,EAAUiB,QACVhG,EAAYd,WAAWN,EAAOE,KAAM+G,EAAG1G,WAEzC8G,OAAQ,WAGN,MAFAf,GAAMN,IAAIvF,aAAWwF,UAAUjG,EAAOE,OACtCiG,EAAUH,IAAIvF,aAAWwF,UAAUjG,EAAOE,OACnCoG,KAYb,QAASgB,KACP,GAAInB,SAEJnF,GAAQuG,WACNZ,YAAa,SACba,QAAS,kBACTC,SACEC,sBAAuB,eACvBC,kBAAmB,IAErBf,MAAO,WACLT,GAAY,EAAAC,cAAE,SAASC,SAAS,+BAChCrF,EAAQ6F,WAAWP,QAAQQ,SAASX,GACpCA,EAAUH,IAAIvF,aAAWwF,UAAUjG,EAAOE,OAC1CiG,EAAUW,SAAS,mBAErBc,OAAQ,SAACZ,EAAOC,GACdd,EAAUH,IAAIvF,aAAWwF,UAAUxF,aAAWI,UAAUvE,OAAOmH,OAAOwD,EAAG1G,SAAU0G,EAAGY,UAExFV,KAAM,SAACH,EAAOC,GACZd,EAAU2B,SACV1G,EAAYT,aAAaX,EAAOE,KAAM5D,OAAOmH,OAAOwD,EAAG1G,SAAU0G,EAAGY,UAtEd,GAAA1G,GAAAnD,EAAAkD,EAAA,GAAtBE,EAAsBD,EAAA,GAATnB,EAASmB,EAAA,EAC5DH,GAAQqF,SAAS,WACjBH,IACAoB,IACAlG,EAAYrB,SAASC,KA9B3B,IAAA+H,GAAArM,EAAA,GR0mBK0K,EAAWlJ,EAAuB6K,GQzmBvCC,EAAAtM,EAAA,GR6mBKqK,EAAS7I,EAAuB8K,EQ3mBrCtM,GAAA,EAEA,IAAA4F,GAAA5F,EAAA,GR+mBK+E,EAAQvD,EAAuBoE,IAM9B,SAASxF,EAAQD,GS1nBvBC,EAAAD,QAAAoM,QTgoBM,SAASnM,EAAQD,GAEtB,YAQA,SAAS0F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAItC,WAAU,qCANhH7C,OAAOgB,eAAezB,EAAS,cAC7B0B,OAAO,GAGT,IAAImE,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIxF,GAAI,EAAGA,EAAIwF,EAAM9C,OAAQ1C,IAAK,CAAE,GAAIyF,GAAaD,EAAMxF,EAAIyF,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAM3F,OAAOgB,eAAesE,EAAQE,EAAWI,IAAKJ,IAAiB,MAAO,UAAUL,EAAaU,EAAYC,GAAiJ,MAA9HD,IAAYR,EAAiBF,EAAYlF,UAAW4F,GAAiBC,GAAaT,EAAiBF,EAAaW,GAAqBX,MUxoB5gByG,EV4oBT,WU3oBV,QAAAA,GAAYhD,EAAMrC,EAAKgC,EAAON,GAAQhD,EAAAvE,KAAAkL,GACpClL,KAAKkI,KAAOA,EACZlI,KAAK6F,IAAMA,EACX7F,KAAK6H,MAAQA,EACb7H,KAAKuH,OAASA,EACdvH,KAAK0G,IAAM,KVwpBZ,MAPAhC,GAAawG,IACXhG,IAAK,cACL3E,MAAO,SUhpBE2C,GACV,QAASlD,KAAKkI,KAAOlI,KAAK6H,OAAS3E,EAAKgF,MAAQhF,EAAKgF,KAAOhF,EAAK2E,OAAS7H,KAAKkI,MACtElI,KAAK6F,IAAM7F,KAAKuH,QAAUrE,EAAK2C,KAAO3C,EAAK2C,IAAM3C,EAAKqE,QAAUvH,KAAK6F,SVmpBxEqF,IAGTrM,cUjqBoBqM,GVqqBf,SAASpM,EAAQD,KAKf,CACA,CACA,CAER","file":"app.317709b75a69a23ae3b0.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ((function(modules) {\n\t// Check all modules for deduplicated modules\n\tfor(var i in modules) {\n\t\tif(Object.prototype.hasOwnProperty.call(modules, i)) {\n\t\t\tswitch(typeof modules[i]) {\n\t\t\tcase \"function\": break;\n\t\t\tcase \"object\":\n\t\t\t\t// Module can be created from a template\n\t\t\t\tmodules[i] = (function(_m) {\n\t\t\t\t\tvar args = _m.slice(1), fn = modules[_m[0]];\n\t\t\t\t\treturn function (a,b,c) {\n\t\t\t\t\t\tfn.apply(this, [a,b,c].concat(args));\n\t\t\t\t\t};\n\t\t\t\t}(modules[i]));\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// Module is a copy of another module\n\t\t\t\tmodules[i] = modules[modules[i]];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn modules;\n}([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _angular = __webpack_require__(1);\n\t\n\tvar _angular2 = _interopRequireDefault(_angular);\n\t\n\tvar _flContainer = __webpack_require__(2);\n\t\n\tvar _flContainer2 = _interopRequireDefault(_flContainer);\n\t\n\tvar _flItem = __webpack_require__(6);\n\t\n\tvar _flItem2 = _interopRequireDefault(_flItem);\n\t\n\t__webpack_require__(13);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// import 'jquery-ui-css/core.css';\n\t// import 'jquery-ui-css/menu.css';\n\t// import 'jquery-ui-css/draggable.css';\n\t// import 'jquery-ui-css/resizable.css';\n\t// import 'jquery-ui-css/theme.css';\n\t\n\texports.default = _angular2.default.module('float', []).directive('flContainer', _flContainer2.default).directive('flItem', _flItem2.default);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = angular;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\t/**\n\t * TODO:\n\t * Row wise collision detection and sorting\n\t * Snap to grid - row wise\n\t */\n\t\n\t\n\texports.default = function () {\n\t  return {\n\t    restrict: 'A',\n\t    bindToController: {\n\t      options: '=',\n\t      isEditable: '='\n\t    },\n\t    require: ['flContainer'],\n\t    controllerAs: 'flContainer',\n\t    controller: function controller() {\n\t      var _this = this;\n\t\n\t      this.flItems = [];\n\t      this.container = new _Container2.default([]);\n\t\n\t      this.initItem = function (flItem) {\n\t        _this.container.addItem(flItem.item);\n\t        _this.flItems.push(flItem);\n\t      };\n\t\n\t      this.render = function () {\n\t        _this.container.removeGaps();\n\t        _this.flItems.forEach(function (flItem) {\n\t          return flItem.render();\n\t        });\n\t      };\n\t\n\t      this.onItemMove = function (item, position) {\n\t        _this.container.editItem(item, _map2.default.px2pos(position));\n\t        _this.render();\n\t      };\n\t\n\t      this.onItemResize = function (item, layout) {\n\t        _this.container.editItem(item, _map2.default.px2layout(layout));\n\t        _this.render();\n\t      };\n\t    },\n\t    link: function link(scope, element, attrs, _ref) {\n\t      var _ref2 = _slicedToArray(_ref, 1);\n\t\n\t      var flContainer = _ref2[0];\n\t\n\t      flContainer.render();\n\t    }\n\t  };\n\t};\n\t\n\tvar _Container = __webpack_require__(3);\n\t\n\tvar _Container2 = _interopRequireDefault(_Container);\n\t\n\tvar _map = __webpack_require__(5);\n\t\n\tvar _map2 = _interopRequireDefault(_map);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Row = __webpack_require__(4);\n\t\n\tvar _Row2 = _interopRequireDefault(_Row);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Container = function () {\n\t  function Container() {\n\t    var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\t\n\t    _classCallCheck(this, Container);\n\t\n\t    this.rows = this.itemsToRows(items);\n\t  }\n\t\n\t  _createClass(Container, [{\n\t    key: 'itemsToRows',\n\t    value: function itemsToRows(items) {\n\t      var _this = this;\n\t\n\t      var topMap = {};\n\t\n\t      items.forEach(function (item) {\n\t        if (item.top in topMap) {\n\t          topMap[item.top].push(item);\n\t        } else {\n\t          topMap[item.top] = [item];\n\t        }\n\t      });\n\t\n\t      return Object.entries(topMap).map(function (_ref) {\n\t        var _ref2 = _slicedToArray(_ref, 2);\n\t\n\t        var top = _ref2[0];\n\t        var items = _ref2[1];\n\t\n\t        return new _Row2.default(items, Number(top), _this);\n\t      }).sort(function (a, b) {\n\t        return a.top - b.top;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'addItem',\n\t    value: function addItem(item) {\n\t      var rowIndex = void 0,\n\t          itemRow = void 0;\n\t\n\t      // Push the item down till it does not overlap with a row above it\n\t      for (rowIndex = 0; rowIndex < this.rows.length; rowIndex++) {\n\t        if (this.rows[rowIndex].top < item.top) {\n\t          item.top += this.rows[rowIndex].getOverlap(item, false);\n\t        } else {\n\t          if (this.rows[rowIndex].top === item.top) {\n\t            itemRow = this.rows[rowIndex];\n\t          }\n\t          break;\n\t        }\n\t      }\n\t\n\t      // If a row is already present with which it does not overlap, add it there\n\t      if (itemRow && !itemRow.getOverlap(item, true)) {\n\t        itemRow.addItem(item);\n\t      } else {\n\t        // Else create a new row before the currently reached index\n\t        this.rows.splice(rowIndex, 0, new _Row2.default([item], item.top, this));\n\t      }\n\t\n\t      // Iterate through all the remaining rows and push them by the amount of overlap\n\t      for (var i = rowIndex + 1; i < this.rows.length; i++) {\n\t        this.shiftRows(this.rows.slice(i), this.rows[i].getOverlap(item, true));\n\t      }\n\t    }\n\t  }, {\n\t    key: 'editItem',\n\t    value: function editItem(item, newLayout) {\n\t      this.removeItem(item);\n\t      this.addItem(Object.assign(item, newLayout));\n\t    }\n\t  }, {\n\t    key: 'removeItem',\n\t    value: function removeItem(item) {\n\t      var row = item.row;\n\t      row.removeItem(item);\n\t\n\t      // Remove row if empty\n\t      if (row.items.length === 0) {\n\t        this.rows.splice(this.rows.indexOf(row), 1);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'shiftRows',\n\t    value: function shiftRows(rows, diff) {\n\t      rows.forEach(function (row) {\n\t        return row.setTop(row.top + diff);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'removeGaps',\n\t    value: function removeGaps() {\n\t      if (this.rows.length === 0) {\n\t        return;\n\t      }\n\t\n\t      if (this.rows[0].top !== 0) {\n\t        this.shiftRows(this.rows, -this.rows[0].top);\n\t      }\n\t\n\t      var maxTop = 0;\n\t\n\t      for (var i = 1; i < this.rows.length; i++) {\n\t        maxTop = Math.max(maxTop, this.rows[i - 1].top + this.rows[i - 1].getHeight());\n\t        var gap = this.rows[i].top - maxTop;\n\t\n\t        if (gap > 0) {\n\t          this.shiftRows(this.rows.slice(i), -gap);\n\t        }\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Container;\n\t}();\n\t\n\texports.default = Container;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Row = function () {\n\t  function Row(items, top) {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, Row);\n\t\n\t    this.top = top;\n\t\n\t    this.items = items;\n\t    items.forEach(function (item) {\n\t      return item.row = _this;\n\t    });\n\t  }\n\t\n\t  _createClass(Row, [{\n\t    key: \"addItem\",\n\t    value: function addItem(item) {\n\t      this.items.push(item);\n\t      item.row = this;\n\t    }\n\t  }, {\n\t    key: \"removeItem\",\n\t    value: function removeItem(item) {\n\t      var index = this.items.indexOf(item);\n\t      item.row = null;\n\t      this.items.splice(index, 1);\n\t    }\n\t  }, {\n\t    key: \"setTop\",\n\t    value: function setTop(top) {\n\t      var _this2 = this;\n\t\n\t      this.top = top;\n\t      this.items.forEach(function (item) {\n\t        return item.top = _this2.top;\n\t      });\n\t    }\n\t  }, {\n\t    key: \"getHeight\",\n\t    value: function getHeight() {\n\t      return this.items.reduce(function (max, item) {\n\t        return Math.max(max, item.height);\n\t      }, 0);\n\t    }\n\t  }, {\n\t    key: \"getOverlap\",\n\t    value: function getOverlap(other, otherOnTop) {\n\t      var overlap = 0;\n\t\n\t      this.items.forEach(function (item) {\n\t        if (item.doesOverlap(other)) {\n\t          if (otherOnTop) {\n\t            overlap = Math.max(overlap, other.top + other.height - item.top);\n\t          } else {\n\t            overlap = Math.max(overlap, item.top + item.height - other.top);\n\t          }\n\t        }\n\t      });\n\t\n\t      return overlap;\n\t    }\n\t  }]);\n\t\n\t  return Row;\n\t}();\n\t\n\texports.default = Row;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar mapService = function () {\n\t  function mapService() {\n\t    var width = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 768;\n\t    var numColumns = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 30;\n\t    var buffer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 4;\n\t\n\t    _classCallCheck(this, mapService);\n\t\n\t    this.width = width;\n\t    this.numColumns = numColumns;\n\t    this.buffer = buffer;\n\t\n\t    // colWidth and rowHeight include buffer\n\t    this.colWidth = (this.width - (numColumns - 1) * buffer) / numColumns + buffer;\n\t    this.rowHeight = this.colWidth;\n\t  }\n\t\n\t  _createClass(mapService, [{\n\t    key: \"px2pos\",\n\t    value: function px2pos(_ref) {\n\t      var left = _ref.left;\n\t      var top = _ref.top;\n\t\n\t      return {\n\t        left: this._closestMultiple(left, this.colWidth),\n\t        top: this._closestMultiple(top, this.rowHeight)\n\t      };\n\t    }\n\t  }, {\n\t    key: \"px2layout\",\n\t    value: function px2layout(_ref2) {\n\t      var left = _ref2.left;\n\t      var top = _ref2.top;\n\t      var width = _ref2.width;\n\t      var height = _ref2.height;\n\t\n\t      return Object.assign(this.px2pos({ left: left, top: top }), {\n\t        width: this._closestMultiple(width + this.buffer, this.colWidth),\n\t        height: this._closestMultiple(height + this.buffer, this.rowHeight)\n\t      });\n\t    }\n\t  }, {\n\t    key: \"pos2px\",\n\t    value: function pos2px(_ref3) {\n\t      var left = _ref3.left;\n\t      var top = _ref3.top;\n\t\n\t      return {\n\t        left: left * this.colWidth,\n\t        top: top * this.rowHeight\n\t      };\n\t    }\n\t  }, {\n\t    key: \"layout2px\",\n\t    value: function layout2px(_ref4) {\n\t      var left = _ref4.left;\n\t      var top = _ref4.top;\n\t      var width = _ref4.width;\n\t      var height = _ref4.height;\n\t\n\t      return Object.assign(this.pos2px({ left: left, top: top }), {\n\t        width: width * this.colWidth - this.buffer,\n\t        height: height * this.rowHeight - this.buffer\n\t      });\n\t    }\n\t  }, {\n\t    key: \"_closestMultiple\",\n\t    value: function _closestMultiple(val, divisor) {\n\t      var result = val / divisor;\n\t      var option1 = Math.floor(result);\n\t      var option2 = Math.ceil(result);\n\t      return result - option1 > option2 - result ? option2 : option1;\n\t    }\n\t  }]);\n\t\n\t  return mapService;\n\t}();\n\t\n\texports.default = new mapService();\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\t/**\n\t * This directive behaves as a viewController, creating a link from the element\n\t * (the view) to the model.\n\t */\n\t\n\t\n\texports.default = function () {\n\t  return {\n\t    restrict: 'A',\n\t    require: ['^flContainer', 'flItem'], //This creates a self reference, not sure if it is an issue\n\t    bindToController: {\n\t      layout: '=flItem'\n\t    },\n\t    controllerAs: 'flItem',\n\t    controller: ['$element', function ($element) {\n\t      var _this = this;\n\t\n\t      this.item = new _Item2.default(this.layout.left, this.layout.top, this.layout.width, this.layout.height);\n\t\n\t      this.render = function () {\n\t        $element.css(_map2.default.layout2px(_this.item));\n\t      };\n\t    }],\n\t    link: function link(scope, element, attrs, _ref) {\n\t      var _ref2 = _slicedToArray(_ref, 2);\n\t\n\t      var flContainer = _ref2[0];\n\t      var flItem = _ref2[1];\n\t\n\t      element.addClass('fl-item');\n\t      makeDraggable();\n\t      makeResizable();\n\t      flContainer.initItem(flItem);\n\t\n\t      /**\n\t       * Sets the element as draggable, and while dragging creates a clone whose\n\t       * position and size is set to be what the element would have if dropped\n\t       * at that position\n\t       */\n\t      function makeDraggable() {\n\t        var indicator = (0, _jquery2.default)('<div>').addClass('fl-drag-indicator fl-item');\n\t        var clone = (0, _jquery2.default)('<div>').addClass('fl-drag-clone');\n\t        clone.append(indicator);\n\t\n\t        element.draggable({\n\t          cursor: 'move',\n\t          cancel: '[fl-item] > *',\n\t          containment: 'parent',\n\t          start: function start() {\n\t            element.children().clone().appendTo(indicator);\n\t          },\n\t          drag: function drag(event, ui) {\n\t            var indicatorPos = _map2.default.pos2px(_map2.default.px2pos(ui.position));\n\t            indicator.css({\n\t              left: indicatorPos.left - ui.position.left,\n\t              top: indicatorPos.top - ui.position.top\n\t            });\n\t          },\n\t          stop: function stop(event, ui) {\n\t            indicator.empty();\n\t            flContainer.onItemMove(flItem.item, ui.position);\n\t          },\n\t          helper: function helper() {\n\t            clone.css(_map2.default.layout2px(flItem.item));\n\t            indicator.css(_map2.default.layout2px(flItem.item));\n\t            return clone;\n\t          }\n\t        });\n\t      }\n\t\n\t      /**\n\t       * Sets the element as resizable, with custom resize handlers.\n\t       * As jQuery does not support a clone object for resizing, a similar object\n\t       * is created on starting the resize and removed on stopping resize, and\n\t       * its position and size during resize are updated to be the allowed\n\t       * positions in the container\n\t       */\n\t      function makeResizable() {\n\t        var indicator = void 0;\n\t\n\t        element.resizable({\n\t          containment: 'parent',\n\t          handles: 'e, se, s, sw, w',\n\t          classes: {\n\t            'ui-resizable-handle': 'fl-resizable',\n\t            'ui-resizable-se': ''\n\t          },\n\t          start: function start() {\n\t            indicator = (0, _jquery2.default)('<div>').addClass('fl-resize-indicator fl-item');\n\t            element.children().clone().appendTo(indicator);\n\t            indicator.css(_map2.default.layout2px(flItem.item));\n\t            indicator.appendTo('[fl-container]');\n\t          },\n\t          resize: function resize(event, ui) {\n\t            indicator.css(_map2.default.layout2px(_map2.default.px2layout(Object.assign(ui.position, ui.size))));\n\t          },\n\t          stop: function stop(event, ui) {\n\t            indicator.remove();\n\t            flContainer.onItemResize(flItem.item, Object.assign(ui.position, ui.size));\n\t          }\n\t        });\n\t      }\n\t    }\n\t  };\n\t};\n\t\n\tvar _jquery = __webpack_require__(7);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tvar _Item = __webpack_require__(8);\n\t\n\tvar _Item2 = _interopRequireDefault(_Item);\n\t\n\t__webpack_require__(9);\n\t\n\tvar _map = __webpack_require__(5);\n\t\n\tvar _map2 = _interopRequireDefault(_map);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = jQuery;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Item = function () {\n\t  function Item(left, top, width, height) {\n\t    _classCallCheck(this, Item);\n\t\n\t    this.left = left;\n\t    this.top = top;\n\t    this.width = width;\n\t    this.height = height;\n\t    this.row = null;\n\t  }\n\t\n\t  _createClass(Item, [{\n\t    key: \"doesOverlap\",\n\t    value: function doesOverlap(item) {\n\t      return !(this.left + this.width <= item.left || item.left + item.width <= this.left || this.top + this.height <= item.top || item.top + item.height <= this.top);\n\t    }\n\t  }]);\n\t\n\t  return Item;\n\t}();\n\t\n\texports.default = Item;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */\n9\n/******/ ])));\n\n\n/** WEBPACK FOOTER **\n ** app.317709b75a69a23ae3b0.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 317709b75a69a23ae3b0\n **/","// import 'jquery-ui-css/core.css';\n// import 'jquery-ui-css/menu.css';\n// import 'jquery-ui-css/draggable.css';\n// import 'jquery-ui-css/resizable.css';\n// import 'jquery-ui-css/theme.css';\n\nimport angular from 'angular';\n\nimport flContainer from './directives/fl-container'\nimport flItem from './directives/fl-item'\n\nimport '../style/app.css';\n\nexport default angular.module('float', [])\n  .directive('flContainer', flContainer)\n  .directive('flItem', flItem);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/app.js\n **/","module.exports = angular;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"angular\"\n ** module id = 1\n ** module chunks = 0\n **/","import Container from '../classes/Container'\nimport mapService from '../services/map'\n\n/**\n * TODO:\n * Row wise collision detection and sorting\n * Snap to grid - row wise\n */\nexport default function () {\n  return {\n    restrict: 'A',\n    bindToController: {\n      options: '=',\n      isEditable: '='\n    },\n    require: ['flContainer'],\n    controllerAs: 'flContainer',\n    controller: function () {\n      this.flItems = [];\n      this.container = new Container([]);\n\n      this.initItem = flItem => {\n        this.container.addItem(flItem.item);\n        this.flItems.push(flItem);\n      }\n\n      this.render = () => {\n        this.container.removeGaps();\n        this.flItems.forEach(flItem => flItem.render());\n      }\n\n      this.onItemMove = (item, position) => {\n        this.container.editItem(item, mapService.px2pos(position));\n        this.render();\n      }\n\n      this.onItemResize = (item, layout) => {\n        this.container.editItem(item, mapService.px2layout(layout));\n        this.render();\n      }\n    },\n    link: function (scope, element, attrs, [flContainer]) {\n      flContainer.render();\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/directives/fl-container.js\n **/","import Row from './Row'\n\nexport default class Container {\n  constructor(items = []) {\n    this.rows = this.itemsToRows(items);\n  }\n\n  itemsToRows(items) {\n    const topMap = {};\n\n    items.forEach(item => {\n      if (item.top in topMap) {\n        topMap[item.top].push(item);\n      } else {\n        topMap[item.top] = [item];\n      }\n    });\n\n    return Object.entries(topMap).map(([top, items]) => {\n      return new Row(items, Number(top), this)\n    }).sort((a, b) => a.top - b.top);\n  }\n\n  addItem(item) {\n    let rowIndex, itemRow;\n\n    // Push the item down till it does not overlap with a row above it\n    for (rowIndex = 0; rowIndex < this.rows.length; rowIndex++) {\n      if (this.rows[rowIndex].top < item.top) {\n        item.top += this.rows[rowIndex].getOverlap(item, false);\n      } else {\n        if (this.rows[rowIndex].top === item.top) {\n          itemRow = this.rows[rowIndex];\n        }\n        break;\n      }\n    }\n\n    // If a row is already present with which it does not overlap, add it there\n    if (itemRow && !itemRow.getOverlap(item, true)) {\n      itemRow.addItem(item);\n    } else { // Else create a new row before the currently reached index\n      this.rows.splice(rowIndex, 0, new Row([item], item.top, this));\n    }\n\n    // Iterate through all the remaining rows and push them by the amount of overlap\n    for (let i = rowIndex + 1; i < this.rows.length; i++) {\n      this.shiftRows(this.rows.slice(i), this.rows[i].getOverlap(item, true));\n    }\n  }\n\n  editItem(item, newLayout) {\n    this.removeItem(item);\n    this.addItem(Object.assign(item, newLayout));\n  }\n\n  removeItem(item) {\n    const row = item.row;\n    row.removeItem(item);\n\n    // Remove row if empty\n    if (row.items.length === 0) {\n      this.rows.splice(this.rows.indexOf(row), 1);\n    }\n  }\n\n  shiftRows(rows, diff) {\n    rows.forEach(row => row.setTop(row.top + diff));\n  }\n\n  removeGaps() {\n    if (this.rows.length === 0) {\n      return;\n    }\n\n    if (this.rows[0].top !== 0) {\n      this.shiftRows(this.rows, -this.rows[0].top);\n    }\n\n    let maxTop = 0;\n\n    for (let i = 1; i < this.rows.length; i++) {\n      maxTop = Math.max(maxTop, this.rows[i - 1].top + this.rows[i - 1].getHeight());\n      const gap = this.rows[i].top - maxTop;\n\n      if (gap > 0) {\n        this.shiftRows(this.rows.slice(i), -gap);\n      }\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/classes/Container.js\n **/","export default class Row {\n  constructor(items, top) {\n    this.top = top;\n\n    this.items = items;\n    items.forEach(item => item.row = this);\n  }\n\n  addItem(item) {\n    this.items.push(item);\n    item.row = this;\n  }\n\n  removeItem(item) {\n    const index = this.items.indexOf(item);\n    item.row = null;\n    this.items.splice(index, 1);\n  }\n\n  setTop(top) {\n    this.top = top;\n    this.items.forEach(item => item.top = this.top);\n  }\n\n  getHeight() {\n    return this.items.reduce((max, item) => {\n      return Math.max(max, item.height);\n    }, 0);\n  }\n\n  getOverlap(other, otherOnTop) {\n    let overlap = 0;\n\n    this.items.forEach(item => {\n      if (item.doesOverlap(other)) {\n        if (otherOnTop) {\n          overlap = Math.max(overlap, other.top + other.height - item.top);\n        } else {\n          overlap = Math.max(overlap, item.top + item.height - other.top);\n        }\n      }\n    });\n\n    return overlap;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/classes/Row.js\n **/","class mapService {\n  constructor(width = 768, numColumns = 30, buffer = 4) {\n    this.width = width;\n    this.numColumns = numColumns;\n    this.buffer = buffer;\n\n    // colWidth and rowHeight include buffer\n    this.colWidth = (this.width - (numColumns - 1) * buffer)/numColumns + buffer;\n    this.rowHeight = this.colWidth;\n  }\n\n  px2pos({left, top}) {\n    return {\n      left: this._closestMultiple(left, this.colWidth),\n      top: this._closestMultiple(top, this.rowHeight)\n    };\n  }\n\n  px2layout({left, top, width, height}) {\n    return Object.assign(this.px2pos({left, top}), {\n      width: this._closestMultiple(width + this.buffer, this.colWidth),\n      height: this._closestMultiple(height + this.buffer, this.rowHeight),\n    });\n  }\n\n  pos2px({left, top}) {\n    return {\n      left: left * this.colWidth,\n      top: top * this.rowHeight\n    };\n  }\n\n  layout2px({left, top, width, height}) {\n    return Object.assign(this.pos2px({left, top}), {\n      width: width * this.colWidth - this.buffer,\n      height: height * this.rowHeight -  this.buffer\n    });\n  }\n\n  _closestMultiple(val, divisor) {\n    const result = val/divisor;\n    const option1 = Math.floor(result);\n    const option2 = Math.ceil(result);\n    return result - option1 > option2 - result? option2 : option1;\n  }\n}\n\nexport default new mapService();\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/services/map.js\n **/","import $ from 'jquery';\nimport Item from '../classes/Item'\n\nimport '../../style/resizable.css';\n\nimport mapService from '../services/map'\n\n/**\n * This directive behaves as a viewController, creating a link from the element\n * (the view) to the model.\n */\nexport default function () {\n  return {\n    restrict: 'A',\n    require: ['^flContainer', 'flItem'], //This creates a self reference, not sure if it is an issue\n    bindToController: {\n      layout: '=flItem'\n    },\n    controllerAs: 'flItem',\n    controller: ['$element', function ($element) {\n      this.item = new Item(this.layout.left, this.layout.top, this.layout.width, this.layout.height);\n\n      this.render = () => {\n        $element.css(mapService.layout2px(this.item));\n      }\n    }],\n    link: function (scope, element, attrs, [flContainer, flItem]) {\n      element.addClass('fl-item');\n      makeDraggable();\n      makeResizable();\n      flContainer.initItem(flItem);\n\n      /**\n       * Sets the element as draggable, and while dragging creates a clone whose\n       * position and size is set to be what the element would have if dropped\n       * at that position\n       */\n      function makeDraggable() {\n        const indicator = $('<div>').addClass('fl-drag-indicator fl-item');\n        const clone = $('<div>').addClass('fl-drag-clone');\n        clone.append(indicator);\n\n        element.draggable({\n          cursor: 'move',\n          cancel: '[fl-item] > *',\n          containment: 'parent',\n          start: () => {\n            element.children().clone().appendTo(indicator);\n          },\n          drag: (event, ui) => {\n            const indicatorPos = mapService.pos2px(mapService.px2pos(ui.position));\n            indicator.css({\n              left: indicatorPos.left - ui.position.left,\n              top: indicatorPos.top - ui.position.top\n            });\n          },\n          stop: (event, ui) => {\n            indicator.empty();\n            flContainer.onItemMove(flItem.item, ui.position);\n          },\n          helper: function () {\n            clone.css(mapService.layout2px(flItem.item));\n            indicator.css(mapService.layout2px(flItem.item));\n            return clone;\n          }\n        });\n      }\n\n      /**\n       * Sets the element as resizable, with custom resize handlers.\n       * As jQuery does not support a clone object for resizing, a similar object\n       * is created on starting the resize and removed on stopping resize, and\n       * its position and size during resize are updated to be the allowed\n       * positions in the container\n       */\n      function makeResizable() {\n        let indicator;\n\n        element.resizable({\n          containment: 'parent',\n          handles: 'e, se, s, sw, w',\n          classes: {\n            'ui-resizable-handle': 'fl-resizable',\n            'ui-resizable-se': ''\n          },\n          start: () => {\n            indicator = $('<div>').addClass('fl-resize-indicator fl-item');\n            element.children().clone().appendTo(indicator);\n            indicator.css(mapService.layout2px(flItem.item));\n            indicator.appendTo('[fl-container]');\n          },\n          resize: (event, ui) => {\n            indicator.css(mapService.layout2px(mapService.px2layout(Object.assign(ui.position, ui.size))));\n          },\n          stop: (event, ui) => {\n            indicator.remove();\n            flContainer.onItemResize(flItem.item, Object.assign(ui.position, ui.size));\n          }\n        });\n      }\n    }\n  };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/directives/fl-item.js\n **/","module.exports = jQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 7\n ** module chunks = 0\n **/","export default class Item {\n  constructor(left, top, width, height) {\n    this.left = left;\n    this.top = top;\n    this.width = width;\n    this.height = height;\n    this.row = null;\n  }\n\n  doesOverlap(item) {\n    return !(this.left + this.width <= item.left || item.left + item.width <= this.left ||\n             this.top + this.height <= item.top || item.top + item.height <= this.top);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/classes/Item.js\n **/"],"sourceRoot":""}